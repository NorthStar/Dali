# @CPACK_PACKAGE_FILE_NAME@.rb. Generated by cmake from homebrew_dali_template.rb.in
# Documentation: https://github.com/Homebrew/homebrew/blob/master/share/doc/homebrew/Formula-Cookbook.md
#                http://www.rubydoc.info/github/Homebrew/homebrew/master/Formula

class @CPACK_FORMULA_CLASSNAME@ < Formula
    desc "@CPACK_PACKAGE_DESCRIPTION@"
    homepage "https://github.com/JonathanRaiman/Dali"
    url "https://github.com/JonathanRaiman/Dali/releases/download/v@CPACK_PACKAGE_VERSION@/@CPACK_PACKAGE_FILE_NAME@.zip"
    # `shasum -a 256 file` #=> shasum's secret string
    sha256 "@CMAKE_PACKAGE_SHA@"
    bottle :unneeded

    depends_on "openblas"

    def install
        prefix.install Dir['*']
    end

    def pc_file; <<-EOS.undent
        prefix=/usr/local
        exec_prefix=${prefix}
        libdir=${exec_prefix}/lib
        includedir=${prefix}/include

        Name: dali
        Description: @CPACK_PACKAGE_DESCRIPTION@
        Version: #{version}
        Libs: -L${libdir} -ldali
        Cflags: -I${includedir}
        EOS
    end
end
